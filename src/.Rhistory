install.packages("servr")
?jekyll
library(servr)
?jekyll
jekyll()
jekyll(command = NULL)
?cor
knitr::include_graphics("img.pdf", auto_pdf = T)
knitr::include_graphics("img.pdf", auto_pdf = T)
cor_matrix <-
sales %>%
spread(key = product, value = sales) %>%
select(-fecha) %>%
cor()
library(lubridate)
library(tibble)
library(dplyr)
library(tidyr)
library(ggplot2)
library(forcats)
set.seed(1234)
sales <- tibble(date = ymd(rep(c(20180101, 20180102, 20180103), 3)),
product = rep(c("A", "B", "C"), each = 3),
sales = sample(1:20, size = 9, replace = T))
sales
cor_matrix <-
sales %>%
spread(key = product, value = sales) %>%
select(-fecha) %>%
cor()
cor_matrix <-
sales %>%
spread(key = product, value = sales) %>%
select(-date) %>%
cor()
cor_matrix
cor_tidy <-
cor_matrix %>%
as.data.frame() %>%
rownames_to_column(var = "product1") %>%
gather(key = product2, value = corr, -product1)
cor_tidy
cor_tidy <-
cor_matrix %>%
lower.tri() %>%
as.data.frame() %>%
rownames_to_column(var = "product1") %>%
gather(key = product2, value = corr, -product1)
cor_tidy
cor_matrix %>%
lower.tri()
cor_tidy <-
cor_matrix %>%
.[lower.tri()] %>%
as.data.frame() %>%
rownames_to_column(var = "product1") %>%
gather(key = product2, value = corr, -product1)
cor_tidy <-
cor_matrix %>%
.[lower.tri(.)] %>%
as.data.frame() %>%
rownames_to_column(var = "product1") %>%
gather(key = product2, value = corr, -product1)
cor_tidy
cor_matrix[lower_tri(cor_matrix)]
cor_matrix[lower.tri(cor_matrix)]
cor_matrix
upper.tri(cor_matrix)
data.frame(cor_matrix)[lower.tri(cor_matrix)]
cor_tidy <-
cor_matrix %>%
as.data.frame() %>%
rownames_to_column(var = "product1") %>%
gather(key = product2, value = corr, -product1)
cor_tidy
